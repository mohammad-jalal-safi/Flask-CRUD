 {% extends 'index.html' %}

{% block body %}
 <div>
    <div>
        <b>Manage Employees</b>
        <button type="button" class="btn btn-primary float-end" data-bs-toggle="modal" data-bs-target="#mymodal">New Employee</button>
        <hr>
    </div>
     <div>
         <form action="/search" method="post">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="col-md-3">
                                <label class="form-label">Name:</label>
                                <input type="text" class="form-control" name="name"\>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <hr>
                            <button type="submit" class="btn btn-primary float-end">Search</button>
                        </div>
                    </div>
                </form>
     </div>

    
</div>
 <!--Save Modal -->

 <div class="modal" id="mymodal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Employee</h4>
            </div>
            <div class="modal-body">
                <form action="/save" method="post">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="col-md-12">
                                <label class="form-label">Name:</label>
                                <input type="text" class="form-control" name="name"\>
                            </div>
                            <div class="col-md-12">
                                <label class="form-label">Last Name:</label>
                                <input type="text" class="form-control" name="last_name"\>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="col-md-12">
                                <label class="form-label">Father Name:</label>
                                <input type="text" class="form-control" name="father_name"\>
                            </div>
                            <div class="col-md-12">
                                <label class="form-label">Grand Father Name:</label>
                                <input type="text" class="form-control" name="grand_father_name"\>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="col-md-12">
                                <label class="form-label">Phone:</label>
                                <input type="text" class="form-control" name="phone"\>
                            </div>
                            <div class="col-md-12">
                                <label class="form-label">Gender:</label>
                                <select class="form-control" name="gender_id">
                                    <option value="">---</option>
                                    {% for g in genders %}
                                    <option value={{g.id}}>{{g.title}}</option>
                                    {%endfor%}
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <hr>
                            <button type="submit" class="btn btn-primary float-end">Save</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>


{% endblock %}

 {% block search %}
     <div class="card mt-md-2">
           <div class="card-body">
                  <div class="table-responsive" style="height: 400px !important;">
        <table class="table table-hover">
            <tr>
                <th>
                    No:
                </th>
                <th>
                    Name:
                </th>
                <th>
                    Last Name:
                </th>
                <th>
                    Father Name:
                </th>
                <th>
                    Grand Father Name:
                </th>

                <th>
                    Gender:
                </th>
                <th>
                    Phone:
                </th>
                <th>
                    Operations
                </th>
            </tr>
            {% for d in datas%}
            <tr>


                <td>
                    {{loop.index}}
                </td>
                <td>
                    {{d.name}}
                </td>
                <td>
                    {{d.last_name}}
                </td>
                <td>
                    {{d.father_name}}
                </td>
                <td>
                    {{d.grand_father_name}}
                </td>
                <td>
                    {{d.title}}
                </td>
                <td>
                    {{d.phone}}
                </td>
                <td>
                    <a class="btn btn-primary btn-sm" href="/update/{{ d.id }}">Edit</a>
                    <a class="btn btn-danger btn-sm" href="/delete/{{ d.id }}">delete</a>
                </td>

            </tr>
            {%endfor%}
        </table>
    </div>
            </div>
        </div>
    {% endblock %}

